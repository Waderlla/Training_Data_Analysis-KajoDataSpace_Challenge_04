# Data Cleaning Process Documentation

## Overview
This document describes the full data‑cleaning pipeline applied to all training‑related datasets used in the dashboard. The objective was to create standardized, analysis‑ready tables across all sources while preserving granular training information.

## 1. Source Files
The following raw files were imported into Power Query:
- **Małe ćwiczenia.csv**
- **Waga i obwód.csv**
- **Sztanga.csv**
- **Orbitrek.csv**
- **Max Pull Up.csv**
- **Ćwiczenia ogólne.csv**
- **mapping_cwiczenia_miesnie.csv** (manually created mapping table)

Each file required different cleaning steps depending on structure and quality.

---

## 2. Global Cleaning Principles
Across all datasets, consistent rules were applied:
- Remove blank rows.
- Promote first row to headers.
- Convert data types explicitly (date, text, integer, time).
- Standardize column names to lowercase, snake_case format.
- Remove unnecessary or auto‑generated columns (e.g., `_1`, `_2`, etc.).
- Trim text fields and fix occasional formatting inconsistencies.

These steps ensured that all queries could be combined later using consistent schema.

---

## 3. Dataset‑Specific Cleaning

### 3.1 **Sztanga** (Barbell training)
More complex due to comments and multiple custom fields.

**Steps:**
1. Promote headers.
2. Set types for all columns.
3. Remove empty rows and redundant autogenerated columns.
4. Normalize column names:
   - `Dzień` → `dzien`
   - `Ćwiczenie` → `cwiczenie`
   - `Powtórzenia` → `powtorzenia`
   - `Serie` → `serie`
   - `Waga (kg)` → `waga_kg`
   - etc.
5. Extract structured information from free‑text comments:
   - **ocena_ciezaru** – binary indicator if load was appropriate.
   - **blisko_upadku** – whether the set approached failure.
   - **odczucia_miesniowe** – whether muscle sensations were recorded.
6. Convert the three fields to integer type.
7. Add **partia_glowna** using conditional exercise‑to‑muscle mapping.

---

### 3.2 **Orbitrek** (Elliptical training)

**Steps:**
1. Promote headers and set types.
2. Rename columns to standardized schema (`dzien`, `minuty`, `kalorie`).
3. Add column `czas` = `minuty` converted to time format.
4. Convert the computed column to `type time`.

---

### 3.3 **Max Pull Up**
The simplest dataset.

**Steps:**
1. Promote headers.
2. Convert:
   - `Dzień` → date
   - `Max Pull Up` → integer
3. Rename columns to `dzien`, `max_pull_up`.

---

### 3.4 **Ćwiczenia ogólne** (General strength/cardio)

**Steps:**
1. Promote headers.
2. Set data types.
3. Rename to `dzien`, `cwiczenie`, `minuty`.
4. Add time‑type column `czas` converted from minutes.
5. Convert `czas` to actual `time` type.

---

### 3.5 **Waga i obwód**
Imported via Power Query, and afterwards a **new column was added manually in Excel**:
- `wzrost` (height), needed for downstream metrics such as BMI.

---

### 3.6 **mapping_cwiczenia_miesnie**
A manually created mapping defining the main muscle group for each exercise.
Used later in Tableau for muscle‑group aggregation and silhouette visualization.

Only cleaning applied:
- Promote headers.
- Ensure text types for both columns.

---

## 4. Final Output
The cleaned tables now have:
- Fully standardized column names.
- Proper data types.
- Additional engineered fields (comments → binary features, computed times).
- One unified field for exercise muscle mapping.

This ensures seamless modeling, KPI creation, and dashboard integration.
